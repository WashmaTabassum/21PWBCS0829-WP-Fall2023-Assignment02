<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="CSS/style.css">
    <script src="javascript/dystopian.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Online Library Managment System</title>
  </head>
  
  <body  class="bg">

    <div class="nav-bg">
    <nav class="navbar navbar-expand-lg navbar-light py-0 " id="nav-logo">
      <div class="container-fluid" >
        <img src="assets/logo-removebg-preview.png" alt="logo" > 
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarNavDropdown">
          <ul class="navbar-nav ">
            <li class="nav-item ">
              <a class="nav-link active text-light fs-6" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light fs-6" href="cart.html">Cart</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light fs-6" href="#">Contact Us</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-light fs-6" href="categories.html" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Book Categories
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <li><a class="dropdown-item" href="fiction.html">Fiction</a></li>
                <li><a class="dropdown-item" href="dystopian.html">Dystopian</a></li>
                <li><a class="dropdown-item" href="sciencefiction.html">Science Fiction</a></li>
                <li><a class="dropdown-item" href="classic.html">Classic</a></li>
                <li><a class="dropdown-item" href="horror.html">Horror</a></li>
                <li><a class="dropdown-item" href="gothic.html">Gothic</a></li>
                <li><a class="dropdown-item" href="fantasy.html">Fantasy</a></li>
                <li><a class="dropdown-item" href="historicalfiction.html">Historical Fiction</a></li>
                <li><a class="dropdown-item" href="mystery.html">Mystery</a></li>
                <li><a class="dropdown-item" href="philosophical.html">Philosophical</a></li>
                <li><a class="dropdown-item" href="contemporary.html">Contemporary</a></li>
                <li><a class="dropdown-item" href="autobiographical.html">Autobiographical</a></li>
                <li><a class="dropdown-item" href="adventure.html">Adventure</a></li>
                <li><a class="dropdown-item" href="categories.html">All</a></li>
              </ul>
              
            </li>
          </ul>
          <form class="d-flex ms-auto align-items-center">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit" id="searchbtn">Search</button>
          </form>

        </div>
      </div>
      
    </nav>
  </div>

  <div class="container-fluid justify-content-center my-5">
    <h2 class="text-center text-light my-3 py-2 display-6 fw-bold">Shopping Cart</h2>
  </div>
  
  <div class="container justify-content-center my-5" id="cartDisplay">
    <!-- Cart items will be displayed here -->
  </div>
  <div class="container justify-content-center my-5">
    <div>Total Amount: <span id="totalAmount">$0.00</span></div>
  </div>

  <footer class="footer mt-5">
    <div class="container" id="foot-container">
      <div class="footer-info">
        <h3>Online Library Managment System</h3>
        <p>your premier destination for discovering a diverse collection of books spanning various genres, authors, and topics.</p>
        <p>Contact: onlinelibrary@gmail.com</p>
      </div>
      <div class="social-icons">
        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
      </div>
      <div class="additional-info">
        <ul>
          <li><a href="#">Terms of Service</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">FAQs</a></li>
          <li><a href="#">Support</a></li>
        </ul>
      </div>
    </div>
    <hr>
    <p class="text-center" style="color: white;">&copy2023 Online Library: All rights reserved</p>
  </footer>
  </body>
  </html>
  

<script>
  document.addEventListener("DOMContentLoaded", function() {
      const cartDisplay = document.getElementById('cartDisplay');
      const totalAmount = document.getElementById('totalAmount');
  
      // Retrieve cart items from localStorage
      let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
  
      // Display cart items
      function displayCartItems() {
          cartDisplay.innerHTML = '';
  
          if (cartItems.length > 0) {
              let totalPrice = 0;
  
              cartItems.forEach((book, index) => {
                  // Ensure quantity defaults to 1 if not set
                  if (!book.quantity || book.quantity < 1) {
                      book.quantity = 1;
                  }
  
                  totalPrice += parseFloat(book.price) * book.quantity;
  
                  // Display each book in the cart with quantity adjustment and remove button
                  cartDisplay.innerHTML += `
                 
                  <div class="container d-flex justify-content-center">
                    <div class="card mb-3" style="max-width: 20rem;">
                      <div class="card-body">
                        <h5 class="card-title">${book.title}</h5>
                        <p class="card-text">${book.description}</p>
                        <p class="card-text">$${book.price}</p>
                        <div class="input-group mb-3">
                          <button class="btn btn-outline-secondary" type="button" onclick="decreaseQuantity(${index})">-</button>
                          <input type="text" class="form-control" value="${book.quantity}" id="quantity${index}" readonly>
                          <button class="btn btn-outline-secondary" type="button" onclick="increaseQuantity(${index})">+</button>
                          <button class="btn btn-danger" onclick="removeItem(${index})">Remove</button>
                        </div>
                    </div>
                  </div>
                </div>

                  `;
              });
  
              // Display total amount
              totalAmount.textContent = `$${totalPrice.toFixed(2)}`;
          } else {
              // Display a message if the cart is empty
              cartDisplay.innerHTML = '<p>Your cart is empty, populate it First.</p>';
              totalAmount.textContent = '$0.00';
          }
      }
  
      displayCartItems();
  
      // Function to decrease quantity
      window.decreaseQuantity = function(index) {
          if (cartItems[index].quantity > 1) {
              cartItems[index].quantity--;
              displayCartItems();
              updateLocalStorage();
          }
      };
  
      // Function to increase quantity
      window.increaseQuantity = function(index) {
          cartItems[index].quantity++;
          displayCartItems();
          updateLocalStorage();
      };
  
      // Function to remove item from cart
      window.removeItem = function(index) {
          cartItems.splice(index, 1);
          displayCartItems();
          updateLocalStorage();
      };
  
      // Update localStorage with the modified cart items
      function updateLocalStorage() {
          localStorage.setItem('cartItems', JSON.stringify(cartItems));
      }
  });
  </script>
  